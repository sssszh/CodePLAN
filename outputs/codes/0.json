{"0": {"codes": ["import sys\ninput = sys.stdin.readline\ns=input()[:-1]\nn=len(s)\nm=n\nfor i in s:\n\tif i==\"|\" and len(set(s))==1:\n\t\tbreak\n\telif i==\":\" and len(set(s))==2:\n\t\tbreak\n\telif i==\":\" and len(set(s))==3:\n\t\tbreak\n\telif i==\"|\" and len(set(s))==4:\n\t\tbreak\n\telif i==\":\":\n\t\tif len(set(s))==5:\n\t\t\tbreak\n\telif len(set(s))==6:\n\t\tbreak\n\telse:\n\t\tm=min(m,len(s))\nif m==n:\n\tprint(-1)\n\treturn\nprint(m)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\ndef max_len(S):\n\tL=[0]*N\n\tR=[0]*N\n\tC=[0]*N\n\tfor i in S:\n\t\tif i=='[':\n\t\t\tL[i-1]=1\n\t\telif i==']':\n\t\t\tL[i-1]=0\n\t\t\tR[i-1]=1\n\t\telse:\n\t\t\tR[i-1]=0\n\t\t\tC[i-1]=1\n\tif R==C:\n\t\treturn N\n\tif L==R:\n\t\treturn -1\n\tif L[0]==0 and R[0]==0:\n\t\treturn N-1\n\telse:\n\t\treturn max(N-L[0],R-C[0])\n\t\t\nprint(max_len(S))\n", "import sys\n\ndef input():\n\treturn sys.stdin.readline().strip()\n\nS = sorted(input())\nN = len(S)\n\nif N % 2 == 1:\n\tprint(-1)\n\treturn\n\nans = [N]\nfor i in range(N//2):\n\tans1 = []\n\tans2 = []\n\tfor s in S[:i+1]:\n\t\tif s == S[-i-1]:\n\t\t\tans1.append(i)\n\t\t\tans2.append(N-i-1)\n\t\telse:\n\t\t\tif len(ans1) > 0 and len(ans2) > 0:\n\t\t\t\tbreak\n\t\t\tif len(ans1) > 0 and len(ans2) == 0:\n\t\t\t\tbreak\n\t\t\tif len(ans1) > 0:\n\t\t\t\tans2.append(i)\n\t\t\telse:\n\t\t\t\tans1.append(N-i-1)\n\tif len(ans1) > 0 and len(ans2) > 0:\n\t\tif len(ans1) > 0:\n\t\t\tans2.append(N-i-1)\n\t\telse:\n\t\t\tans2.append(N-i-1)\n\tif len(ans1)!= 0 and len(ans2)!= 0:\n\t\tif len(ans1) < len(ans2):\n\t\t\tprint(-1)\n\t\t\treturn\n\t\telse:\n\t\t\tans = ans1+ans2\n\nprint(len(ans))\n", "s = input()\nn = len(s)\n\nif n % 4!= 0:\n\tprint(-1)\n\treturn\n\ni = 0\nj = n // 2\n\nwhile i <= j:\n\tif s[i] == s[j] and s[i + 1] == s[j + 1]:\n\t\ti += 2\n\t\tj -= 2\n\telse:\n\t\tprint(-1)\n\t\treturn\n\nif i > j:\n\tprint(-1)\n\treturn\n\nans = 0\ncnt = 0\nfor k in range(i, j + 1):\n\tif s[k]!= s[j]:\n\t\tans += 1\n\t\tcnt += 1\n\telse:\n\t\tcnt -= 1\n\nprint(ans)\n", "def main():\n\ts = input()\n\tn = len(s)\n\tans = [0] * n\n\tfor i in s:\n\t\tif i == \"|\":\n\t\t\tans[n - 1 - i] = 1\n\t\telif i == \",\":\n\t\t\tans[n - 1 - i] = 2\n\t\telif i == \":\":\n\t\t\tans[n - 1 - i] = 3\n\t\telse:\n\t\t\tans[n - 1 - i] = 4\n\tfor i in range(1,4):\n\t\tfor j in range(i,n):\n\t\t\tif ans[j - 1] >= ans[j] and ans[j - 1 - i] >= ans[j - i]:\n\t\t\t\tprint(-1)\n\t\t\t\treturn\n\tprint(n - max(ans))\n\n\nmain()\n", "import sys\n\ndef main():\n\ts = sys.stdin.readline().strip()\n\tn = len(s)\n\tif n % 4 == 1:\n\t\tprint(-1)\n\t\treturn\n\tans = [0] * n\n\tcnt = 0\n\tfor c in s:\n\t\tif cnt == 0:\n\t\t\tif c == s[n//2]:\n\t\t\t\tans[n//2] += 1\n\t\t\telse:\n\t\t\t\tans[n//2] = 1\n\t\telse:\n\t\t\tif c == s[n//2]:\n\t\t\t\tans[n//2] += 1\n\t\t\telse:\n\t\t\t\tans[n//2] = 1\n\t\tcnt += 1\n\tfor i in range(1, n):\n\t\tif s[i]!= s[i-1]:\n\t\t\tans[i] = ans[i-1]\n\t\telse:\n\t\t\tif s[i-1] == s[i+1]:\n\t\t\t\tans[i] += 1\n\t\t\telse:\n\t\t\t\tans[i] = ans[i-1]\n\tprint(max(ans) if ans[n//2] == n and n % 2 == 0 else ans[n//2])\n\ndef __starting_point():\n\tmain()\n__starting_point()\n", "s=input()\nn=len(s)\nans=0\ni=0\nwhile(i<n and s[i]==s[i-1]):\n\ti+=1\nif(i==n):\n\tprint(-1)\n\treturn\nans=n-i\nj=n-1\nwhile(j>=0 and s[j]==s[j+1]):\n\tj-=1\nif(j==-1):\n\tprint(-1)\n\treturn\nk=s.index(s[j])\nans+=n-k\nk=s.rindex(s[i])\nans+=n-k\nprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\nS=set(input().strip())\nn=len(S)\n\ndef calc(S):\n\tres=0\n\tcount=0\n\tfor i in S:\n\t\tif i==\"[\" and count==0:\n\t\t\tcount+=1\n\t\telif i==\"]\" and count==0:\n\t\t\treturn -1\n\t\telif i==\":\" and count==0:\n\t\t\tcontinue\n\t\telif i==\"|\" and count==0:\n\t\t\treturn -1\n\t\telse:\n\t\t\tres+=1\n\t\t\tcount=0\n\treturn res\n\nm=n//2\nans=0\nfor i in range(m):\n\tc=calc(S)\n\tif c==-1:\n\t\tprint(-1)\n\t\treturn\n\telse:\n\t\tans+=c\n\t\tn-=c\nprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\n\nN=len(S)\n\n#for i in range(1,N):\n#    S1=S[:i]+S[i:]\n\nans=N\nfor i in range(N):\n\tif S[i]==S[N-1-i] and N-i>1:\n\t\tans=N-i\n\t\tbreak\n\nif ans==N:\n\tprint(-1)\n\treturn\n\n#print(ans)\n\n\nfor i in range(N):\n\tif S[i]==S[N-1-i] and i!=N-1:\n\t\tans=N-i\n\t\tbreak\n\nif ans==N:\n\tprint(-1)\n\treturn\n\n#print(ans)\n\nfor i in range(N):\n\tif S[i]==S[N-1-i] and i!=N-1:\n\t\tans=N-i\n\t\tbreak\n\nif ans==N:\n\tprint(-1)\n\treturn\n\n#print(ans)\n\nfor i in range(N):\n\tif S[i]==S[N-1-i] and i!=N-1:\n\t\tprint(-1)\n\t\treturn\n\n#print(ans)\n\nfor i in range(N):\n\tif S[i]!=S[N-1-i]:\n\t\tprint(-1)\n\t\treturn\n\n#print(ans)\n\nprint(N-ans)\n", "import sys\nimport math\nfrom collections import Counter\n\ns = input()\nn = len(s)\nm = len(s)\n\n\ndef solve(s):\n\ts = sorted(s)\n\tans = [[s[0]]]\n\n\tfor i in range(1, n):\n\t\tif s[i]!= s[i - 1]:\n\t\t\tans.append([s[i]])\n\t\telse:\n\t\t\tans[-1].append(s[i])\n\n\tfor i in range(len(ans) - 2, -1, -1):\n\t\tfor j in range(len(ans[i]) - 1):\n\t\t\tif ans[i][j] < ans[i + 1][j + 1]:\n\t\t\t\treturn -1\n\n\tfor i in range(len(ans)):\n\t\tif len(ans[i]) == 0:\n\t\t\treturn len(s)\n\n\tans.pop()\n\n\tans = sorted(ans)\n\n\tfor i in range(1, n):\n\t\tif s[i]!= s[i - 1]:\n\t\t\treturn -1\n\n\treturn len(ans[0])\n\n\nprint(solve(s))\n", "import sys\ninput = sys.stdin.readline\n\nS=set(input().rstrip('\\n'))\n\nans=[]\nfor i in S:\n\tif i in '::':\n\t\tans.append(i)\n\nif len(ans)==0:\n\tprint(-1)\nelse:\n\tl=[]\n\tfor i in ans:\n\t\tif i in S:\n\t\t\tl.append(i)\n\t\n\tans=[]\n\tfor i in S:\n\t\tif i in l:\n\t\t\tans.append(i)\n\t\n\tl1=[]\n\tl2=[]\n\t\n\tfor i in l:\n\t\tif i in S:\n\t\t\tl1.append(i)\n\t\t\tif len(l1)==1:\n\t\t\t\tl2.append(len(l1))\n\t\t\telse:\n\t\t\t\tl2.append(len(l1)//2)\n\t\t\t\tl2.append(len(l1)%2)\n\t\t\t\tl2.append(len(l1)//2)\n\t\n\tans=l2\n\t\n\tif len(ans)==0:\n\t\tprint(-1)\n\telse:\n\t\tprint(max(ans))\n", "import sys\ninput = sys.stdin.readline\n\nS=list(input().strip())\nN=len(S)\n\nA=[S[0]]\nB=[S[0]]\nC=[S[0]]\nD=[S[0]]\nE=[S[0]]\nF=[S[0]]\nG=[S[0]]\nH=[S[0]]\nI=[S[0]]\nJ=[S[0]]\nK=[S[0]]\nL=[S[0]]\nM=[S[0]]\nN0=[N]\nN1=[N]\nN2=[N]\nN3=[N]\nN4=[N]\nN5=[N]\nN6=[N]\nN7=[N]\nN8=[N]\nN9=[N]\n\nfor i in range(N):\n\tif S[i] in [A[i],B[i],C[i],D[i],E[i],F[i],G[i]]:\n\t\tN0[i]=min(N0[i],N-len(S[i]))\n\t\tN1[i]=max(N1[i],N-len(S[i]))\n\t\tN2[i]=max(N2[i],N-len(S[i]))\n\t\tN3[i]=max(N3[i],N-len(S[i]))\n\t\tN4[i]=max(N4[i],N-len(S[i]))\n\t\tN5[i]=max(N5[i],N-len(S[i]))\n\t\tN6[i]=max(N6[i],N-len(S[i]))\n\t\tN7[i]=max(N7[i],N-len(S[i]))\n\t\tN8[i]=max(N8[i],N-len(S[i]))\n\t\tN9[i]=max(N9[i],N-len(S[i]))\n\nif N0[N1[-1]]==N1[-1] and N2[N2[-1]]==N2[-1] and N3[N3[-1]]==N", "import sys\ninput = sys.stdin.readline\n\nS = ''.join(input().strip())\n\nans = [len(S)-len(set(S[i:i+2])) for i in range(len(S))]\n\nfor i in range(len(S)-2, -1, -1):\n\tif ans[i] == len(S)-i:\n\t\tprint(ans[i])\n\t\tbreak\n\nif ans[0] == -1:\n\tprint(-1)\nelse:\n\tprint(min(ans))\n", "import sys\n\ns = sys.stdin.read().strip()\nn = len(s)\nm = n\n\ncnt = 0\nfor i in s:\n\tif i == ',':\n\t\tcnt += 1\n\telif i == ':':\n\t\tcnt += 1\n\telif i == '|':\n\t\tcnt += 1\n\telse:\n\t\tpass\n\n\nif cnt == n:\n\tprint(-1)\nelse:\n\tans = m\n\tfor i in range(1, m):\n\t\tif s[i-1] == s[i] and s[i+1] == s[i]:\n\t\t\tans = max(ans, m-i)\n\t\telif s[i-1] == s[i]:\n\t\t\tans = max(ans, m-i-1)\n\t\telif s[i+1] == s[i]:\n\t\t\tans = max(ans, m-i+1)\n\t\telse:\n\t\t\tprint(-1)\n\t\t\treturn\n\tprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\ns = input()[:-1]\n\nb = []\nfor i in s:\n\tif i in '[,]':\n\t\tb.append(i)\n\telif i == ':':\n\t\tb.append(i)\n\telif i == '|':\n\t\tb.append(i)\n\nif len(b) == 0:\n\tprint(-1)\n\treturn\n\nans = len(b)\n\nfor i in range(1, len(b) // 2 + 1):\n\tif len(b) % i!= 0:\n\t\tcontinue\n\n\tif len(b) // i == len(b) // i - 1:\n\t\tprint(ans)\n\t\treturn\n\n\tans -= len(b)\n\nprint(ans)\n", "s = input()\nn = len(s)\nm = [n] * n\nfor i in range(n):\n\tm[i] = m[i-1]\n\tif s[i]!= s[i-1] and s[i-1]!= s[i]:\n\t\tm[i] = max(m[i], m[i-1] + 1)\n\t\tm[n-i-1] = m[n-i]\n\t\tm[i-1] = m[i-1]\nif m[-1]!= n and m[-1]!= m[n-1]:\n\tprint(-1)\nelse:\n\tprint(n - max(m))\n", "s=input()\nn=len(s)\nm=n\nfor i in range(m):\n\tif s[i]==\"|\" and s[n-1-i]==\"|\" and s[n-i-2]==\"|\" and s[n-i-3]==\"|\":\n\t\tn-=3\n\t\tcontinue\n\telif s[i]==\"[\" and s[n-1-i]==\"]\" and s[n-i-2]==\"]\" and s[n-i-3]==\"[\":\n\t\tn-=4\n\t\tcontinue\n\telif s[i]==\"]\" and s[n-1-i]==\"]\" and s[n-i-2]==\"]\" and s[n-i-3]==\"[\":\n\t\tn-=3\n\t\tcontinue\n\telif s[i]==\"[\" and s[n-1-i]==\"]\" and s[n-i-2]==\"]\" and s[n-i-3]==\"[\":\n\t\tn-=4\n\t\tcontinue\n\telse:\n\t\tprint(-1)\n\t\treturn\nprint(n)\n", "import sys\n\ns = sys.stdin.readline().strip()\n\nn = len(s)\nm = len(s) // 2 + 1\n\nans = [0] * n\n\nfor i in range(m):\n\tif s[i] == \"|\":\n\t\tans[i] = n - i\n\t\tbreak\n\n\tif s[i] == \":\":\n\t\tif i < m - 1:\n\t\t\tans[i] = n - i - 1\n\t\tbreak\n\n\tif s[i] == \",\" and i > 0:\n\t\tans[i] = n - i - 1\n\t\tbreak\n\n\tif i < m:\n\t\tans[i] = n - i\n\nif all(ans) == m:\n\tprint(m)\n\treturn\n\nfor i in range(m):\n\tif ans[i] == 0:\n\t\tprint(-1)\n\t\treturn\n\nprint(m - max(ans))\n", "import sys\nimport math\nfrom collections import Counter\n\ns = sys.stdin.readline().strip()\nn = len(s)\nm = max(list(map(len, s.split('['))))\n\ndef solve(s):\n\ts = ''.join(sorted(s))\n\tl = len(s)\n\n\tcnt = Counter(s)\n\n\tif not cnt[':']:\n\t\treturn -1\n\n\tif not cnt['|']:\n\t\treturn -1\n\n\tif l % 2 == 1:\n\t\treturn -1\n\n\ti = l // 2\n\tif cnt[':'] >= cnt['|']:\n\t\treturn -1\n\n\tans = 0\n\tfor ch in s:\n\t\tif ch in cnt:\n\t\t\tans += cnt[ch]\n\t\telse:\n\t\t\treturn -1\n\n\tif ans == 0 and l % 2 == 1:\n\t\treturn m\n\n\treturn ans + m\n\nprint(solve(s))\n", "import sys\ninput = sys.stdin.readline\n\ns = sorted(input().strip(), reverse=True)\n\ncnt = [0] * 26\nfor c in s:\n\tcnt[ord(c) - ord('|')] += 1\n\nans = -1\nfor i in range(26):\n\tif cnt[i] < cnt[i + 2]:\n\t\tans = max(ans, i + 2 - cnt[i])\n\nprint(ans)\n", "import sys\nimport math\n\ndef input():\n\treturn sys.stdin.readline().strip()\n\ndef iinput():\n\treturn int(input())\n\ndef finput():\n\treturn float(input())\n\ndef tinput():\n\treturn input().split()\n\ndef linput():\n\treturn list(input())\n\ndef rinput():\n\treturn list(map(int, tinput()))\n\ndef fiinput():\n\treturn list(map(float, tinput()))\n\ndef rlinput():\n\treturn list(map(int, input().split()))\n\ndef srlinput():\n\treturn list(map(str, input().split()))\n\ndef NOYES(fl):\n\tif fl:\n\t\tprint(\"NO\")\n\telse:\n\t\tprint(\"YES\")\n\ndef YESNO(fl):\n\tif fl:\n\t\tprint(\"YES\")\n\telse:\n\t\tprint(\"NO\")\n\ndef main():\n\ts = input()\n\tn = len(s)\n\tif n == 0:\n\t\tprint(0)\n\t\treturn\n\n\tm = n // 2\n\tif n % 2 == 0:\n\t\tm += 1\n\n\tseen = set()\n\tfor i in s:\n\t\tif i in seen:\n\t\t\tseen.remove(i)\n\t\telse:\n\t\t\tseen.add(i)\n\n\tif len(seen)!= m:\n\t\tprint(-1)\n\t\treturn\n\n\tans = m\n\tfor i in range(m):\n\t\tflag = 0\n\t\tfor j in range(m):\n\t\t\tif i == j:\n\t\t\t\tcontinue\n\t\t\tif s[i] == s[j]:\n\t\t\t\tcontinue\n\t\t\telse:\n\t\t\t\tflag = 1\n\t\t\t\tbreak\n\t\tif flag == 0:\n\t\t\tans += 1\n\tprint(ans)\n\n\treturn\n\ndef __starting_point():\n\tmain()\n\n__starting_point()\n", "import sys\n\ns = sys.stdin.readline().rstrip()\nn = len(s)\nm = n // 2\nif n % 2 == 1:\n\tm += 1\nif len(s) % m!= 0:\n\tprint(-1)\n\treturn\n\nans = [0] * m\nstack = []\nansl = []\ncnt = 0\nfor i in range(n):\n\tif s[i] == ',' or s[i] == '|':\n\t\tif len(stack) == 0:\n\t\t\tstack.append(i)\n\t\t\tans[i] = cnt\n\t\t\tcnt += 1\n\t\telif s[i] == '[':\n\t\t\tstack.append(i)\n\t\t\tansl.append(i)\n\t\t\tcnt += 1\n\t\t\tif cnt == m:\n\t\t\t\tansl.append(i)\n\t\t\t\tcnt = 0\n\t\t\t\tstack.pop()\n\t\t\t\tcontinue\n\t\telif s[i] == ']':\n\t\t\tif len(stack) == 0:\n\t\t\t\tans[i] = cnt\n\t\t\t\tcnt += 1\n\t\t\t\tif cnt == m:\n\t\t\t\t\tansl.append(i)\n\t\t\t\t\tcnt = 0\n\t\t\t\t\tstack.pop()\n\t\t\t\tcontinue\n\t\t\telif s[i] == '[':\n\t\t\t\tstack.append(i)\n\t\t\t\tstackl.append(i)\n\t\t\t\tcnt += 1\n\t\t\t\tif cnt == m:\n\t\t\t\t\tansl.append(i)\n\t\t\t\t\tcnt = 0\n\t\t\t\t\tstack.pop()\n\t\t\t\tcontinue\n\t\t\telse:\n\t\t\t\tprint(-1)\n\t\t\t\treturn\n\t\telif s[i] == ':':\n\t\t\tif len(stack) == 0:\n\t\t\t\tstack.append(i)\n\t\t\t\tcnt += 1\n\t\t\t\tif cnt == m:\n\t\t\t\t\tansl.append(i)\n\t\t\t\t\tcnt = 0\n\t\t\t\t\tstackl.append(i)\n\t\t\t\tcontinue\n\t\t\telif s[i] == \"|\":\n\t\t\t\tstack.append(i)\n\t\t\t\tcnt += 1\n\t\t\t\tif cnt == m:\n\t\t\t\t\tansl.append(i)\n\t\t\t\t\tcnt = 0\n\t\t\t\t\tstackl.", "import sys\n\ns = sys.stdin.read()\nn = len(s)\nm = n\n\nans = [n]\nwhile m:\n\tm -= 1\n\tc = s[m]\n\tif c == '[':\n\t\tans.append(m)\n\t\tm -= 1\n\t\tif m == 0:\n\t\t\tbreak\n\telif c == ']':\n\t\tif m == 0:\n\t\t\tbreak\n\t\tm -= 1\n\t\tif m == n:\n\t\t\tbreak\n\telse:\n\t\tans.append(m)\n\t\tm -= 1\n\nif len(ans) < len(s):\n\tprint(-1)\nelse:\n\tprint(max(ans) - sum(s[i]!= s[n-1-i] for i in range(len(s))))\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\nANS=0\n\nL=[]\nM=[]\n\nfor i in S:\n\tif i==\"|\":\n\t\tM.append(i)\n\telif i==\":\":\n\t\tL.append(i)\n\telse:\n\t\tM.append(i)\n\n\nfor i in range(1,N+1):\n\tif len(L)>i:\n\t\tbreak\n\n\tfor j in range(i):\n\t\tif L[j]==M[j]:\n\t\t\tANS+=1\n\t\telse:\n\t\t\tbreak\n\n\telse:\n\t\tif len(M)==0:\n\t\t\tANS=-1\n\t\t\tbreak\n\n\t\telse:\n\t\t\tfor j in range(i):\n\t\t\t\tif L[j]==M[j]:\n\t\t\t\t\tANS+=1\n\t\t\t\telse:\n\t\t\t\t\tbreak\n\n\t\t\telse:\n\t\t\t\tif ANS==N:\n\t\t\t\t\tprint(N)\n\t\t\t\t\treturn\n\t\t\t\telse:\n\t\t\t\t\tprint(ANS)\n\t\t\t\t\treturn\n\nprint(ANS)\n", "import sys\ninput = sys.stdin.readline\n\ns=input().strip()\nn=len(s)\nm=n\n\nfor i in range(n):\n\tif s[i]==\"|\" and s[n-1-i]==\"|\" and s[n-1-i-2]==\"|\" and s[n-1-i-3]==\"|\":\n\t\tm-=2\n\t\tn-=3\n\t\tcontinue\n\tif s[i]==\"[\" and s[n-1-i]==\"]\" and s[n-1-i-2]==\"[\" and s[n-1-i-3]==\"]\":\n\t\tm-=2\n\t\tn-=3\n\t\tcontinue\n\tif s[i]==\":\" and s[n-1-i]==\":\" and s[n-1-i-2]==\":\" and s[n-1-i-3]==\":\":\n\t\tm-=2\n\t\tn-=3\n\t\tcontinue\n\tif s[i]==\":\" and s[n-1-i]==\":\" and s[n-1-i-2]==\":\":\n\t\tm-=2\n\t\tn-=3\n\t\tcontinue\n\tif s[i]!=s[n-1-i]:\n\t\tprint(-1)\n\t\treturn\n\nif s[n-1-n]==\"|\" and s[n-1-n-2]==\"|\" and s[n-1-n-3]==\"|\":\n\tm-=2\n\tn-=3\nelse:\n\tprint(m)\n", "import sys\nimport math\nimport collections\nfrom sys import stdin,stdout\nfrom bisect import bisect_left,bisect_right\nimport itertools\nfrom copy import deepcopy\n \n# import numpy as np\n \n# import scipy\n \n# f = open('input.txt', 'r')\n# data = f.read().split()\n \ns = input()\nn = len(s)\n\nif n == 1:\n\tprint(-1)\n\treturn\n\nk = len(s)\n\ncnt = [0]*(k+1)\ncnt2 = [0]*(k+1)\ncnt3 = [0]*(k+1)\ncnt4 = [0]*(k+1)\ncnt5 = [0]*(k+1)\ncnt6 = [0]*(k+1)\ncnt7 = [0]*(k+1)\ncnt8 = [0]*(k+1)\ncnt9 = [0]*(k+1)\ncnt10 = [0]*(k+1)\ncnt11 = [0]*(k+1)\ncnt12 = [0]*(k+1)\n\nfor i in range(n):\n\tif s[i] == ',':\n\t\tcnt[i+1] += 1\n\t\tcnt2[i+1] += 1\n\t\tcnt3[i+1] += 1\n\t\tcnt4[i+1] += 1\n\t\tcnt5[i+1] += 1\n\t\tcnt6[i+1] += 1\n\t\tcnt7[i+1] += 1\n\t\tcnt8[i+1] += 1\n\t\tcnt9[i+1] += 1\n\t\tcnt10[i+1] += 1\n\t\tcnt11[i+1] += 1\n\telse:\n\t\tcnt[i+1] = cnt[i]\n\t\tcnt2[i+1] = cnt2[i]\n\t\tcnt3[i+1] = cnt3[i]\n\t\tcnt4[i+1] = cnt4[i]\n\t\tcnt5[i+1] = cnt5[i]\n\t\tcnt6[i+1] = cnt6[i]\n\t\tcnt7", "import sys\ninput = sys.stdin.readline\n\ns=input()\nn=len(s)\nm=n\nfor i in range(n):\n\tif s[i]==\"|\" and s[n-1-i]==\"|\" and s[n-i-2]==\"|\" and s[n-i-3]==\"|\":\n\t\tm=max(m,n-i-2-3)\n\telif s[i]==\"[\" and s[n-1-i]==\"]\" and s[n-1-i-2]==\"]\" and s[n-1-i-3]==\"]\":\n\t\tm=max(m,n-i-2-3)\n\telif s[i]==\"]\" and s[n-1-i]==\"]\":\n\t\tm=max(m,n-1-i-2)\n\telif s[i]==\"[\" and s[n-1-i]==\"(\":\n\t\tm=max(m,n-1-i-3)\n\telif s[i]==\")\":\n\t\tm=max(m,n-1-i-2)\n\tif m>n:\n\t\tprint(-1)\n\t\treturn\nprint(m)\n", "import sys\ninput = sys.stdin.readline\n\ns=input().strip()\nn=len(s)\nm=n//2\nans=n\nflag=0\nfor i in range(m+1):\n\tif s[i]==s[n-i]:\n\t\tans-=1\n\telse:\n\t\tflag=1\n\t\tbreak\nif flag==1:\n\tprint(-1)\n\treturn\n\nans=ans*2\nfor i in range(m):\n\tif s[i]==s[n-i-1]:\n\t\tans-=1\n\telse:\n\t\tbreak\nif ans==-1:\n\tprint(n)\n\treturn\n\n\n\nfor i in range(m):\n\tfor j in range(m):\n\t\tif s[i]==s[j]:\n\t\t\tans+=1\n\t\telse:\n\t\t\tbreak\n\nif ans==n:\n\tprint(n)\n\treturn\n\nans=ans*2\nfor i in range(1,n-m):\n\tif s[i]==s[n-i-2]:\n\t\tans-=1\n\telse:\n\t\tbreak\nif ans==n:\n\tprint(n)\n\treturn\n\nprint(ans)\n", "import sys\n\ns = sys.stdin.readline().strip()\nn = len(s)\nm = n - len(s)\nans = -1\nif m == 0:\n\tans = n\nelse:\n\tans = max(m,n - len(s) + 1)\nprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\nS = sorted(input().rstrip())\nL = len(S)\n\ndef calc(S):\n\tL1 = len(S)\n\tL2 = L - L1\n\tcnt = 0\n\tfor i in S:\n\t\tif i == L1:\n\t\t\tif cnt == 0:\n\t\t\t\treturn L2\n\t\t\tcnt += 1\n\t\telif i == L2:\n\t\t\treturn -1\n\t\telse:\n\t\t\treturn -1\n\treturn len(S) - L\n\nL1 = 0\nL2 = 0\nfor i in S:\n\tif i == L1:\n\t\tL1 += 1\n\telif i == L2:\n\t\tL2 += 1\n\nans = max(calc(S[:L1]), calc(S[L1:L2]))\nprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\ns=input().strip()\n\nn=len(s)\n\nif len(s)%2==1:\n\tprint(-1)\n\treturn\n\nans=[]\n\nfor i in range(n//2+1):\n\tans.append(n-i)\n\nans.append(n)\n\nfor i in range(n//2):\n\tfor j in range(i+1,n):\n\t\tif s[i]==s[j]:\n\t\t\tcontinue\n\t\telse:\n\t\t\tans[i]=min(ans[i],ans[j]+n-i)\n\t\t\tbreak\n\telse:\n\t\tans[-1]=n\n\nprint(max(ans))\n", "import sys\ninput = sys.stdin.readline\n\nS = sorted(set(input().strip()))\nN = len(S)\nm = N // 2\nL = [m] * N\nfor i in range(m):\n\tfor j in range(i + 1, N):\n\t\tif S[i] == S[j]:\n\t\t\tL[j] = max(L[j], L[i] + 1)\n\t\telse:\n\t\t\tL[j] = max(L[j], L[i] + 2)\n\nif all(len(S) - i < L[i] for i in range(m)):\n\tprint(-1)\nelse:\n\tprint(max(L))\n", "import sys\ninput = sys.stdin.readline\n\nS = len(input().strip())\nans = [-1] * S\nstart = 0\n\nfor i in range(S):\n\tif start == len(S) - 1:\n\t\tif S[i]!= S[start] and S[i]!= S[start + 1]:\n\t\t\tans[start] = max(ans[start], len(S) - i)\n\t\t\tbreak\n\t\telse:\n\t\t\tans[start] = len(S) - i\n\t\t\tstart += 1\n\telse:\n\t\tif S[i]!= S[start] and S[i]!= S[start + 1]:\n\t\t\tans[start] = max(ans[start], len(S) - i)\n\t\t\tbreak\n\t\telse:\n\t\t\tans[start] = len(S) - i\n\t\t\tstart += 1\n\nprint('\\n'.join(map(str, ans)))\n", "import sys\ninput = sys.stdin.readline\n\ns = set(input().strip())\nn = len(s)\nm = n\n\nfor i in range(m):\n\tif s.issubset(set(input().strip())):\n\t\tn -= len(s.difference(set(input().strip())))\n\t\tm -= len(s.difference(set(input().strip())))\n\t\tbreak\n\nif m == n:\n\tprint(-1)\nelse:\n\tprint(n - m + 1)\n", "import sys\ninput = sys.stdin.readline\n\ns=input()\nn=len(s)\n\nans=[]\nfor i in s:\n\tif i==\"[\" or i==\"]\":\n\t\tans.append(n)\n\t\tn-=1\n\t\tcontinue\n\tans.append(n)\n\tn-=1\n\nif n==0:\n\tprint(-1)\nelse:\n\tans.append(n)\n\nans.sort()\n\nans=ans[::-1]\n\nflag=True\nfor i in range(len(ans)):\n\tif ans[i]<=0:\n\t\tcontinue\n\telse:\n\t\tflag=False\n\t\tbreak\n\nif flag:\n\tprint(len(ans))\nelse:\n\tprint(-1)\n", "import sys\ninput = sys.stdin.readline\n\ns = input()\nn = len(s)\n\ndef make_accordion(s):\n\tfor i in range(n):\n\t\tif i < n // 2 and s[i] == s[i+1]:\n\t\t\tcontinue\n\t\tif s[i] == s[i-1] and s[i] == s[i+1]:\n\t\t\treturn -1\n\t\tif s[i] == s[i-2] and s[i] == s[i+1]:\n\t\t\treturn -1\n\treturn len(s) - len(set(s))\n\nprint(make_accordion(s))\n", "import sys\n\ns = sys.stdin.read().strip()\n\nn = len(s)\n\nleft = [0] * n\nright = [0] * n\nfor i in range(n):\n\tleft[i] = ord(s[i]) - ord('|')\n\tright[n - 1 - i] = ord(s[n - 1 - i]) - ord('|')\n\nans = -1\nfor i in range(n):\n\tif left[i] < right[i]:\n\t\tans = max(ans, n - i - 1)\n\t\tbreak\n\telif left[i] > right[i]:\n\t\tans = max(ans, left[i] + right[i] - 2)\n\t\tbreak\n\nprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\nS=set(input().strip())\nn=len(S)\n\ncnt=0\nans=[]\n\nfor i in range(n):\n\tif S.issubset(S[i:]):\n\t\tcnt+=1\n\t\tans.append(cnt)\n\t\tcnt=0\n\nif cnt:\n\tans.append(cnt)\n\nif len(ans)==1:\n\tprint(-1)\nelse:\n\tprint(max(ans))\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\nM=N//2\n\nans=M\nfor S1 in range(1,M+1):\n\tans=max(ans,N-S1+1)\n\tM=min(S1,M)\n\t\nif M==N:\n\tprint(-1)\nelse:\n\tS1=S.replace(\"|\",\"\")\n\tS2=S1.replace(\":\",\"\")\n\tS3=S2.replace(\"[\",\"\")\n\tS4=S3.replace(\"]\",\"\")\n\n\tif len(S1)<len(S2):\n\t\tprint(-1)\n\t\treturn\n\n\tif len(S1)>len(S3):\n\t\tprint(N-len(S2))\n\t\treturn\n\n\tif len(S3)>len(S4):\n\t\tprint(N-len(S3))\n\t\treturn\n\n\tans1=N\n\tans2=N\n\tfor i in range(1,M+1):\n\t\tif S1[i-1]==S3[i-1]==S4[i-1]:\n\t\t\tans1=min(ans1,N-i+1)\n\t\telse:\n\t\t\tans1=min(ans1,N-i+1)\n\tans2=min(ans2,N-M+1)\n\tprint(max(ans1,ans2))\n", "import sys\n\ns = sys.stdin.read()\nn = len(s)\n\ncnt = [0] * n\nfor i, c in enumerate(s):\n\tif c == \"|\":\n\t\tcnt[i] = cnt[i-1] + 1\n\telif c == \":\":\n\t\tcnt[i] = cnt[i-1]\n\telse:\n\t\tcnt[i] = cnt[i-1]\n\nif all(cnt[i] <= cnt[n-1-i] for i in range(1, n-1)):\n\tprint(-1)\n\treturn\n\nans = n\nfor i in range(1, n):\n\tif cnt[i] > cnt[n-1-i]:\n\t\tans = -1\n\t\tbreak\n\nprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\nans=N\nfor i in range(N):\n\tif S[i]==\"|\" and S[N-1-i]==\"|\" and S[N-i-2]==\"|\" and S[N-i-3]==\"|\" and S[N-i-4]==\"|\" and S[N-i-5]==\"|\" and S[N-i-6]==\"|\" and S[N-i-7]==\"|\":\n\t\tans=N-i-2\n\t\tbreak\n\telif S[i]==\"|\" and S[N-1-i]==\"|\":\n\t\tS=S[:i]+S[i+1:]\n\t\tN-=1\n\t\tcontinue\n\telif S[i]==\"|\" and S[N-1-i]==\"|\":\n\t\tS=S[:N-i]+S[N-1-i]+S[N-i+1:]\n\t\tN-=1\n\t\tcontinue\n\telif S[i]==\"|\" and S[N-1-i]==\"|\":\n\t\tS=S[:N-i]+S[N-1-i]+S[N-i+1:]\n\t\tN-=1\n\t\tcontinue\n\telif S[i]==\"|\":\n\t\tS=S[:N-i]+S[N-1-i]+S[N-i+1:]\n\t\tN-=1\n\t\tcontinue\n\telif S[i]==\"|\":\n\t\tS=S[:N-i]+S[N-1-i]+S[N-i+1:]\n\t\tN-=1\n\t\tcontinue\n\telse:\n\t\tprint(-1)\n\t\treturn\n\nprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\ns = sorted(input().strip(), reverse=True)\n\n\ndef is_accordion(s):\n\ti, j = 0, 0\n\tfor c in s:\n\t\tif c == '[':\n\t\t\ti += 1\n\t\telif c == ']':\n\t\t\tj += 1\n\t\telif c == ':':\n\t\t\tj += 1\n\t\telse:\n\t\t\treturn False\n\n\treturn i == len(s) and j == len(s)\n\n\nif not is_accordion(s):\n\tprint(-1)\n\treturn\n\nans = len(s)\ni = 0\nj = len(s) - 1\nwhile i <= j:\n\tif i == j:\n\t\tans -= 1\n\t\tbreak\n\tif s[i] == s[j]:\n\t\ti += 1\n\t\tj -= 1\n\telse:\n\t\tans = -1\n\t\tbreak\n\nprint(ans)\n", "import sys\nimport math\nfrom collections import Counter\nfrom itertools import permutations\nimport copy\n# import numpy as np\n# input = sys.stdin.readline\n\ns=input()\nn=len(s)\nm=n\nv=[0]*m\nfor i in range(n):\n\tv[i]=s.count(s[i])\n\nif(max(v)>=2):\n\tprint(-1)\n\treturn\n\nans=[]\nfor i in range(m):\n\tl=[]\n\tfor j in range(m):\n\t\tif(i==j):\n\t\t\tcontinue\n\t\tif(v[i]>=v[j]):\n\t\t\tl.append(v[j])\n\t\telse:\n\t\t\tl.append(0)\n\t\n\tl=sorted(l)\n\tans.append(len(l))\n\nans.append(n-max(ans))\n\nprint(max(ans))\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\nM=N//2+1\n\n\ndef main():\n\tfor i in range(1,M+1):\n\t\ta=set(S[:i])\n\t\tb=set(S[i:])\n\t\tif len(a&b)>0:\n\t\t\tprint(-1)\n\t\t\treturn\n\t\n\tL=[]\n\tA=set(S)\n\tfor i in range(M+1):\n\t\tL.append(len(S)-len(A))\n\t\n\tif len(L)>1:\n\t\tprint(-1)\n\t\treturn\n\t\n\tprint(max(L))\n\t\nmain()\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\n\nn=len(S)\nm=n\n\nfor i in range(n):\n\tif S[i]=='[':\n\t\tm-=1\n\t\tif m==-1:\n\t\t\tbreak\n\telif S[i]==']':\n\t\tm=n-1\n\t\tbreak\n\nans=n\n\nfor i in range(m):\n\ta=S.replace(S[i],'')\n\tif len(a)>=ans:\n\t\tans=len(a)\n\nif ans==n:\n\tprint(-1)\nelse:\n\tprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\ncnt=[0]*N\nfor i in S:\n\tif i==\"|\":\n\t\tcnt[N-1-i]=1\n\telse:\n\t\tcnt[N-1-i]+=1\n\nfor i in range(N):\n\tfor j in range(i+1,N):\n\t\tif cnt[i]>=cnt[j] and (cnt[j]==cnt[i]):\n\t\t\tprint(-1)\n\t\t\treturn\n\nans=0\nfor i in range(N):\n\tfor j in range(i+1,N):\n\t\tif cnt[i]<cnt[j]:\n\t\t\tans+=cnt[j]-cnt[i]\n\nprint(ans)\n", "s = input()\nn = len(s)\nm = [[s[i], s[i+1]] for i in range(n) if s[i] == s[i+1]]\nm.sort()\n\n\ndef calc(s):\n\tres = []\n\tfor i in range(len(s)):\n\t\tif len(s) - i - len(res) < i - len(s) + 1:\n\t\t\tres.append(s[i])\n\treturn res\n\n\ndef solve(s):\n\tif len(s) == 0:\n\t\treturn 0\n\t\n\tstack = []\n\tfor i in range(len(s)):\n\t\tif len(s) - i - len(stack) < i - len(s) + 1:\n\t\t\tif s[i] in stack:\n\t\t\t\tstack.pop()\n\t\t\telse:\n\t\t\t\tstack.append(s[i])\n\n\tif len(stack) == 0:\n\t\treturn len(s)\n\n\tif len(stack) == 1:\n\t\treturn len(stack[0])\n\n\tif len(stack) == 2:\n\t\treturn len(stack[0]) + len(stack[1])\n\n\tif len(stack) == 3:\n\t\treturn len(stack[0]) + len(stack[1]) + len(s[i])\n\n\treturn -1\n\n\nprint(solve(m))\n", "s = input()\nl = len(s)\n\nif l % 2 == 1:\n\tprint(-1)\n\treturn\n\nans = []\n\nfor i in range(l // 2):\n\tc1 = s[i]\n\tc2 = s[l - i - 1]\n\tif c1 == c2:\n\t\tans.append(len(s) - i - 1)\n\t\tcontinue\n\n\tif c1 == '|' and c2 == '|':\n\t\tans.append(len(s) - l - 1)\n\t\tcontinue\n\n\tif c1 == ':' and c2 == ':':\n\t\tans.append(len(s) - l - 1)\n\t\tcontinue\n\n\tif c1 == ',' and c2 == ',':\n\t\tcontinue\n\n\tans.append(len(s) - l - 1)\n\nprint(max(ans) if len(ans)!= l else l)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nL=len(S)\n\n# [::], [:|], [:,]:, :|, [:,]:, [:,]:, [:,]:, :|, [:,]:, [:,]:, :|, [:,]:, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :|, :", "import sys\ninput = sys.stdin.readline\n\ns=input().strip()\n\nn=len(s)\n\nl=[s[0]]\nr=[s[-1]]\n\nfor i in range(n-1):\n\tl.append(max(l[-1],s[i]))\n\tr.append(max(r[-1],s[i+1]))\n\n\nans=0\n\nfor i in range(1,n+1):\n\t#print(ans,l,r,s[i],s[-i],s[n-i],s[-n-i])\n\tif len(s)-i<ans:\n\t\tprint(-1)\n\t\treturn\n\tif len(s)-i==ans:\n\t\tans=len(s)\n\t\tbreak\n\tif len(s)-i>ans:\n\t\tprint(-1)\n\t\treturn\n\n\tif len(s)-i==ans+1:\n\t\tans=len(s)\n\t\tbreak\n\tif len(s)-i>ans+1:\n\t\tprint(-1)\n\t\treturn\n\n\nprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\n\nN=len(S)\n\nans=N\n\nfor i in range(N):\n\tif S[i]!='|':\n\t\tans-=1\n\t\tbreak\n\n\tfor j in range(i+1,N):\n\t\tif S[j]!=S[i]:\n\t\t\tbreak\n\n\t\tif i+j-i-N<ans:\n\t\t\tans=i+j-i-N\n\nif ans==N:\n\tprint(-1)\nelse:\n\tprint(ans)\n", "import sys\n\ns = sys.stdin.read()\nn = len(s)\n\nm = n // 2\nl = m + 1\nr = n\n\nans = 0\ncnt = 0\nfor i in s:\n\tif i == \"|\":\n\t\tcnt += 1\n\telif i == \":\":\n\t\tcnt -= 1\n\telse:\n\t\tif cnt > 0:\n\t\t\tans = -1\n\t\t\tbreak\n\t\telse:\n\t\t\tans += 1\n\t\t\tcnt = 0\n\nif cnt > 0:\n\tans = -1\n\nprint(l * r)\n", "s = input()\nn = len(s)\nm = min(n, len(s) - len(set(s)))\nans = 0\nfor i in range(m):\n\tc = s.pop()\n\tif c in ('[', ']'):\n\t\tans += s.count(c)\n\t\tans += s.count(c) // 2\n\t\tbreak\n\telse:\n\t\tans -= 1\nif ans == 0:\n\tprint(-1)\nelse:\n\tprint(ans)\n", "import sys\n\ndef minp():\n\treturn sys.stdin.readline().strip()\n\ndef mint():\n\treturn int(minp())\n\ndef mints():\n\treturn list(map(int,minp().split()))\n\ndef solve():\n\ts = list(minp())\n\tn = len(s)\n\tr = [0] * n\n\tfor i in range(n):\n\t\tif s[i] == \"|\":\n\t\t\tr[i] = n - i - 1\n\t\telif s[i] == \"[\":\n\t\t\tif r[i - 1] == 0:\n\t\t\t\tr[i] = i + 1\n\t\t\telse:\n\t\t\t\tr[i] = max(r[i - 1], r[i] - 1)\n\t\telse:\n\t\t\tif r[i - 1] == 0:\n\t\t\t\tr[i] = n - i - 1\n\t\t\telse:\n\t\t\t\tr[i] = max(r[i - 1], r[i] - 1)\n\tfor i in range(n):\n\t\tif r[i] < r[i + 1]:\n\t\t\tprint(-1)\n\t\t\treturn\n\tprint(r[-1] - r[-2])\n\nsolve()\n", "import sys\ninput=sys.stdin.readline\ns=input()\nn=len(s)\nm=n\nans=[n]*n\nfor i in s:\n\tif i==\"[\" and ans[i-1]==n-1 and ans[i+1]==n-1:\n\t\tans[i]=0\n\telif i==\"]\" and ans[i-1]!=n-1:\n\t\tans[i]=ans[i-1]\n\telif i==\":\" and ans[i+1]!=n-1:\n\t\tans[i]=ans[i+1]\n\telif i==\"|\":\n\t\tif ans[i-1]==n-1:\n\t\t\tans[i]=0\n\t\telif ans[i+1]==n-1:\n\t\t\tans[i]=ans[i+1]\n\t\telse:\n\t\t\tans[i]=ans[i-1]\n\t\t\tans[i+1]=n-1\n\telse:\n\t\tans[i]=0\nif max(ans)==n:\n\tprint(-1)\nelse:\n\tprint(n-max(ans))\n", "import sys\ninput = sys.stdin.readline\n\ns = list(input().strip())\n\nn = len(s)\n\nans = []\n\nfor i in range(n):\n\tif s[i] in':|':\n\t\tif len(s) % 2 == 1:\n\t\t\tif i + 1 < n and s[i + 1] == s[i]:\n\t\t\t\tcontinue\n\t\t\tans.append(i)\n\t\telse:\n\t\t\tif i + 2 < n and s[i + 2] == s[i]:\n\t\t\t\tcontinue\n\t\t\tans.append(i)\n\telse:\n\t\tans.append(i)\n\nif len(ans) == 0:\n\tprint(-1)\nelse:\n\tans.sort()\n\tans2 = []\n\ti = 0\n\tfor j in range(len(ans) // 2):\n\t\tif len(s) % 2 == 1:\n\t\t\tif i + 1 < n and s[i + 1] == s[i]:\n\t\t\t\tcontinue\n\t\t\tans2.append(i)\n\t\telse:\n\t\t\tif i + 2 < n and s[i + 2] == s[i]:\n\t\t\t\tcontinue\n\t\t\tans2.append(i)\n\t\n\tif len(ans2) == 0:\n\t\tprint(-1)\n\telse:\n\t\tprint(len(ans) - len(set(ans2)) + 1)\n", "import sys\ninput = sys.stdin.readline\n\nS = '-' + input().strip()\nN = len(S)\n\ndef calc(S):\n\tseen = set()\n\tstack = []\n\tfor c in S:\n\t\tif c in seen:\n\t\t\tstack.append(c)\n\t\t\tseen.clear()\n\t\telse:\n\t\t\tseen.add(c)\n\t\n\tif stack:\n\t\treturn max(len(c) - len(stack[0]) for c in stack)\n\treturn N\n\nif N % 2 == 1:\n\tif S[N // 2]!= S[N // 2 + 1]:\n\t\tprint(-1)\n\t\treturn\n\n\tans = calc(S[:N // 2])\n\tprint(ans)\nelse:\n\tans = N\n\tfor i in range(1, N // 2):\n\t\tans = max(ans, calc(S[i:]))\n\tprint(ans)\n", "import sys\nimport math\nimport bisect\nfrom sys import stdin, stdout\nfrom string import ascii_letters, digits\nimport itertools\nimport copy\nimport fractions\nimport functools\nimport heapq\nimport math\nimport operator\n\ns = stdin.readline().strip()\nn = len(s)\nm = n // 2\n\nif n % 2 == 1:\n\tm += 1\n\ndef calc(s):\n\tcnt = [0] * len(s)\n\tfor c in s:\n\t\tcnt[ord(c) - ord(\"[\")] += 1\n\t\tcnt[ord(c) - ord(\"]\")] += 1\n\treturn cnt\n\ncnt = calc(s)\nm_cnt = max(cnt)\nans = m_cnt\n\nfor i in range(1, m_cnt):\n\tcnt[i] = min(cnt[i], cnt[i-1])\n\tans = max(ans, cnt[i])\n\nif ans == m_cnt:\n\tprint(-1)\nelse:\n\tprint(ans)\n", "s = input()\nn = len(s)\nm = n - len(set(s))\nif m == 0:\n\tprint(-1)\nelse:\n\tl = []\n\ti = 0\n\twhile i < len(s):\n\t\tif s[i] == ',':\n\t\t\tif len(l) == 0 or s[i]!= l[-1]:\n\t\t\t\tl.append(s[i])\n\t\t\ti += 1\n\t\telif s[i] == '|' and len(l) == 0:\n\t\t\tl.append(s[i])\n\t\t\ti += 1\n\t\telif s[i] == ':' and len(l) == 0:\n\t\t\tl.append(s[i])\n\t\t\ti += 1\n\t\telif s[i] == ',' and len(l)!= 0:\n\t\t\tbreak\n\t\telif s[i] == '[' and len(l) == 0:\n\t\t\tl.append(s[i])\n\t\t\ti += 1\n\t\telif s[i] == ']' and len(l)!= 0:\n\t\t\tbreak\n\t\telif s[i] == ':' and len(l) == 0:\n\t\t\tl.append(s[i])\n\t\t\ti += 1\n\t\telse:\n\t\t\tprint(-1)\n\t\t\treturn\n\tif len(l) == 0:\n\t\tprint(n)\n\telse:\n\t\tprint(len(l) - 1)\n", "import sys\ninput = sys.stdin.readline\n\ns = set(input().strip())\n\nn = len(s)\n\nans = []\nfor i in range(n):\n\tif s.issubset(set(input().strip())):\n\t\tans.append(len(s.difference(set(input().strip()))))\n\nans.sort(reverse=True)\n\nif len(ans) == 1:\n\tprint(ans[0])\nelse:\n\tprint(-1)\n", "s = input()\nn = len(s)\nm = n - len(set(s))\nif m == 0 or m == 1 or len(set(s)) == 1:\n\tprint(-1)\n\treturn\n\nans = 0\nfor i in range(m):\n\ttemp = []\n\tfor j in range(n):\n\t\tif s[j] == s[i]:\n\t\t\ttemp.append(j)\n\tif len(temp) == 1:\n\t\tans += 1\n\telse:\n\t\tbreak\n\nif ans == n:\n\tprint(n)\n\treturn\n\nans2 = n\nfor i in range(m):\n\ttemp = []\n\tfor j in range(n):\n\t\tif s[j] == s[i]:\n\t\t\ttemp.append(j)\n\tif len(temp) == 1:\n\t\tans2 -= 1\n\telse:\n\t\tbreak\n\nif ans2 == n:\n\tprint(n - m)\n\treturn\n\nans3 = n\nfor i in range(m):\n\ttemp = []\n\tfor j in range(n):\n\t\tif s[j] == s[i]:\n\t\t\ttemp.append(j)\n\tif len(temp) == 1:\n\t\tans3 -= 1\n\telse:\n\t\tbreak\n\nif ans3 == n:\n\tprint(n - m)\n\treturn\n\nprint(max(ans,ans3))\n", "s = input()\nn = len(s)\n\nif n % 2 == 1:\n\tprint(-1)\n\treturn\n\nif n == 0:\n\tprint(n)\n\treturn\n\nl = [0] * n\nr = [0] * n\nfor i in range(n):\n\tif s[i] == \"|\":\n\t\tl[i] = 1\n\t\tr[i] = 1\n\telif s[i] == \",\":\n\t\tl[i] = 2\n\t\tr[i] = 2\n\telse:\n\t\tl[i] = 3\n\t\tr[i] = 3\n\nans = 0\nfor i in range(1, n):\n\tif i < l[i] and i > r[i] and (l[i-1] == r[i] and l[i] < r[i-1]):\n\t\tans = max(ans, i + r[i-1])\n\nprint(ans)\n", "s = input()\nn = len(s)\nif len(set(s)) == n:\n\tprint(n)\nelse:\n\ti = 0\n\tj = n-1\n\twhile i < j:\n\t\tif s[i] == s[j]:\n\t\t\tj -= 1\n\t\t\ti += 1\n\t\t\tcontinue\n\t\telif s[i] < s[j]:\n\t\t\tprint(-1)\n\t\t\treturn\n\t\telse:\n\t\t\ti += 1\n\tprint(j-i)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\nans=[N]*(N+1)\ncnt=N\nfor i in S:\n\tif i==\"|\":\n\t\tcnt-=1\n\telif i==\":\":\n\t\tcnt-=2\n\telse:\n\t\tans[cnt]=cnt\n\t\tcnt-=1\n\nif cnt<0:\n\tprint(-1)\n\treturn\n\nans[cnt]=cnt\n\nfor i in range(1,cnt):\n\tans[i]=max(ans[i],ans[i-1])\n\nprint(max(ans))\n", "import sys\ninput = sys.stdin.readline\n\nS=list(input().strip())\nN=len(S)\n\nans=[]\n\nfor i in range(N):\n\tif S[i] not in ['|',':']:\n\t\tans.append(N-i)\n\nif len(ans)==0:\n\tprint(-1)\nelse:\n\tfor i in range(len(ans)):\n\t\tif ans[i]>=N-i:\n\t\t\tprint(N-i)\n\t\t\tbreak\n\telse:\n\t\tprint(-1)\n", "import sys\ninput = sys.stdin.readline\n\nS = '-' + input().rstrip()\nN = len(S)\n\ndef is_accordion(S):\n\tif len(S) % 2 == 1:\n\t\treturn False\n\treturn S[::2].count(S[::2][0]) == len(S) // 2\n\n\ndef main():\n\tfor S in S.split('|'):\n\t\tif is_accordion(S):\n\t\t\tprint(len(S))\n\t\t\treturn\n\tprint(-1)\n\treturn\n\n\ndef __starting_point():\n\tmain()\n\n__starting_point()\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\ncnt=[0]*N\nfor s in S:\n\tif s==\"[\" or s==\",\" or s==\",\"|\":\n\t\tcnt[N-s-1]+=1\n\telse:\n\t\tcnt[N-s-1]=0\n\ncnt.sort()\n\nM=N\nfor i in range(1,N):\n\tif cnt[i]!=cnt[i-1]:\n\t\tM=max(M,cnt[i]+cnt[i-1])\n\nif M==N:\n\tprint(-1)\nelse:\n\tprint(N-M)\n", "s = input()\nn = len(s)\nm = len(s)\n\nif m == n:\n\tprint(n)\nelse:\n\tfor i in s:\n\t\tif i in ':|':\n\t\t\tm -= 1\n\t\telif i in '[:':\n\t\t\tm -= 1\n\t\telse:\n\t\t\tprint(-1)\n\t\t\treturn\n\tprint(m)\n", "def main():\n\ts = input()\n\tn = len(s)\n\tans = []\n\tfor i in range(n):\n\t\tif s[i] in \"[]:[]:[]\" and i!= n - 1:\n\t\t\tans.append(s[i])\n\t\telif s[i] in \":|\":\n\t\t\tif i!= n - 1:\n\t\t\t\tans.append(s[i])\n\t\telse:\n\t\t\tans.append(\" \")\n\t\n\tif len(ans) == n:\n\t\tprint(-1)\n\telse:\n\t\tprint(len(ans) - max(len(s) - ans.count(\"\"), len(s) - ans.count(\"[]\"), len(s) - ans.count(\":\")))\n\t\nmain()\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\ncnt=[0]*N\nfor s in S:\n\tif s==\"[\" or s==\"]\":\n\t\tcnt[N-s-1]+=1\n\telse:\n\t\tcnt[N-s]=1\n\ncnt.sort()\nans=0\nfor i in range(1,N//2+1):\n\tif cnt[i]==cnt[N-i]:\n\t\tans+=i\n\t\tbreak\nelse:\n\tans=N-i\n\nif ans==0:\n\tprint(-1)\nelse:\n\tprint(ans)\n", "def main():\n\ts = input()\n\tn = len(s)\n\tb = [[s[0], s[0]]]\n\tfor i in range(1, n):\n\t\tif s[i] == b[-1][0]:\n\t\t\tb.append([s[i], s[i]])\n\t\telse:\n\t\t\tb.append([s[i], s[i]])\n\tb.sort()\n\tans = 0\n\tfor i in range(1, n):\n\t\tif b[i-1][0] == b[i][0]:\n\t\t\tif b[i-1][1] == b[i][1]:\n\t\t\t\tcontinue\n\t\t\telse:\n\t\t\t\tans = -1\n\t\t\t\tbreak\n\t\telse:\n\t\t\tif ans == -1:\n\t\t\t\tans = len(b[i])\n\t\t\telse:\n\t\t\t\tans = max(ans, len(b[i]) - b[i][0] - b[i][1])\n\tprint(ans)\n\nmain()\n", "import sys\n\ns = sys.stdin.readline().strip()\n\nn = len(s)\n\n\ncnt = [0] * n\nfor i in s:\n\tcnt[ord(i) - ord('[')] += 1\n\tcnt[ord(i) - ord(']')] -= 1\n\n\nif all(cnt):\n\tprint(n - max(cnt))\n\treturn\n\n\nans = -1\nfor i in range(n):\n\tif cnt[i] == 0:\n\t\tans = max(ans, i + 1)\n\t\tbreak\n\n\nfor i in range(n):\n\tif cnt[i] and cnt[i + 1]:\n\t\tans = max(ans, i + 1)\n\t\tbreak\n\n\nprint(ans)\n", "import sys\ninput = sys.stdin.readline\n\nS = sorted(input().strip())\nN = len(S)\n\ndef calc(L):\n\tM = len(L) // 2\n\treturn sum(L[:M]) + sum(L[M:])\n\nans = 0\nfor L in S:\n\tif L not in ('|', ':'):\n\t\tans = max(ans, calc(L))\n\telse:\n\t\tif len(L) % 2:\n\t\t\tans = max(ans, calc(L[:len(L) // 2] + L[len(L) // 2 + 1:]))\n\t\telse:\n\t\t\tans = max(ans, calc(L[:len(L) // 2] + L[len(L) // 2:]))\n\nprint(ans if ans < N else -1)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\ndef get_len(s):\n\ts=sorted(s)\n\tstack=[]\n\tfor i in s:\n\t\tif i=='[':\n\t\t\tstack.append(i)\n\t\telif i==']':\n\t\t\tif len(stack)>=1:\n\t\t\t\treturn -1\n\t\t\telse:\n\t\t\t\treturn len(stack)\n\t\telse:\n\t\t\tstack.append(i)\n\treturn len(stack)\n\nif len(S)%2==1:\n\tprint(-1)\nelse:\n\tl=0\n\tr=N-1\n\tans=0\n\twhile r>l:\n\t\tif get_len(S[l:r+1])>ans:\n\t\t\tans=get_len(S[l:r+1])\n\t\tl+=1\n\t\tr-=1\n\tprint(ans)\n", "import sys\n\ns = sys.stdin.read().strip()\n\nn = len(s)\n\ndef get_len(c):\n\tans = 0\n\tfor i in range(n):\n\t\tif s[i] == c:\n\t\t\tans += 1\n\treturn ans\n\nmax_len = 0\nfor i in range(n):\n\tc = s[i]\n\tif len(c) > max_len:\n\t\tmax_len = len(c)\n\t\tbreak\n\nif max_len == n:\n\tprint(-1)\n\treturn\n\nfor i in range(n):\n\tif i == 0 or i == n - 1:\n\t\tprint(n)\n\t\treturn\n\tif s[i - 1] == c:\n\t\tprint(n - 1)\n\t\treturn\n\tif s[i - 2] == c:\n\t\tprint(n - 2)\n\t\treturn\n\tif s[i - 3] == c:\n\t\tprint(n - 3)\n\t\treturn\n\tif s[i - 4] == c:\n\t\tprint(n - 4)\n\t\treturn\n\tif s[i - 5] == c:\n\t\tprint(n - 5)\n\t\treturn\n\tif s[i - 6] == c:\n\t\tprint(n - 6)\n\t\treturn\n\tif s[i - 7] == c:\n\t\tprint(n - 7)\n\t\treturn\n\tif s[i - 8] == c:\n\t\tprint(n - 8)\n\t\treturn\n\tif s[i - 9] == c:\n\t\tprint(n - 9)\n\t\treturn\n\nprint(n - 1)\n", "s=input()\n\nif(len(s)==len(set(s))):\n\tprint(len(s))\nelse:\n\tprint(-1)\n", "import sys\ninput = sys.stdin.readline\n\nS = '-' + input().rstrip()\nN = len(S)\nM = len(S[::-1])\n\nans = 0\nfor i in range(N):\n\tcnt = 0\n\tfor j in range(M):\n\t\tif S[i] == S[j]:\n\t\t\tcnt += 1\n\t\telse:\n\t\t\tbreak\n\tif cnt == 0:\n\t\tans = N - i - 1\n\t\tbreak\n\nif ans == N:\n\tprint(-1)\nelse:\n\tprint(N - ans)\n", "import sys\ninput = sys.stdin.readline\n\ns = input()[:-1]\n\ns = sorted(s)\n\n# print(s)\n\nans = []\n\nfor i in range(len(s)):\n\t# print(s[i], s[i+1:])\n\tif s[i]!= s[i+1]:\n\t\tans.append(s[i])\n\n\nans.reverse()\n\nif len(set(ans)) == 1:\n\tprint(len(s))\nelse:\n\tf = [len(ans)]\n\tfor i in range(1, len(s)):\n\t\tf.append(max(f[-1], f[-2] + len(s[i:])))\n\tif f[-1] > len(s):\n\t\tprint(-1)\n\telse:\n\t\tprint(f[-1])\n", "import sys\n\ns = sys.stdin.readline()\nn = len(s)\nm = n - len(s)\n\nif m == 0 or s[n - 1]!= s[n]:\n\tprint(-1)\n\treturn\n\nans = []\nfor i in range(m):\n\tans.append(s[n - i - 1])\n\tif s[n - i - 2]!= s[n - i - 1]:\n\t\tans.append(s[n - i - 2])\n\tif s[n - i - 3]!= s[n - i - 2]:\n\t\tans.append(s[n - i - 3])\n\tif s[n - i - 4]!= s[n - i - 3]:\n\t\tans.append(s[n - i - 4])\n\nprint(len(max(ans, key = len)))\n", "import sys\ninput = sys.stdin.readline\n\nS=set(input().strip())\nN=len(S)\n\nfor i in range(N):\n\tS.discard(S[i])\n\nif len(S)==0:\n\tprint(-1)\n\treturn\n\nans=N\nfor i in range(N):\n\tL=min(S.count(S[i]),S[i])\n\tif L==0:\n\t\tcontinue\n\telse:\n\t\tans=max(ans,L+1)\n\nprint(ans)\n", "import sys\n\ns = sys.stdin.readline().strip()\nn = len(s)\nm = n // 2\nif len(s) % 2:\n\tm += 1\nans = []\ncnt = 0\nfor i in s:\n\tif i == ':':\n\t\tcnt += 1\n\telif i == ']':\n\t\tif cnt:\n\t\t\tans.append(cnt)\n\t\t\tcnt = 0\n\telse:\n\t\tcnt += 1\nif cnt:\n\tans.append(cnt)\n\nres = 0\nfor i in range(m):\n\ts1 = s[i]\n\ts2 = s[-i-1]\n\ts3 = s[i+1]\n\ts4 = s[-i]\n\tif s1 == s2 and s1!= s3 and s1!= s4:\n\t\tres = max(res, len(s1))\n\t\tcontinue\n\tif s1 == s3 and s1!= s4:\n\t\tres = max(res, len(s1))\n\t\tcontinue\n\tif s2 == s3 and s2!= s4:\n\t\tres = max(res, len(s2))\n\t\tcontinue\n\tif s2 == s4 and s2!= s1:\n\t\tres = max(res, len(s2))\n\t\tcontinue\n\tif s1 == s4 and s1!= s2:\n\t\tres = max(res, len(s1))\n\telse:\n\t\tres = -1\n\t\nprint(res)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\nans=[-1]*N\ncnt=0\n\nfor i in S:\n\tif i==\"|\" and cnt:\n\t\tans[N-cnt-1]=N-cnt\n\t\tcnt=0\n\telif i==\":\" and cnt:\n\t\tcnt+=1\n\telif i==\"[\" and cnt:\n\t\tcnt+=1\n\telse:\n\t\tcnt=0\n\n\nfor i in ans:\n\tif i==-1:\n\t\tprint(-1)\n\t\treturn\n\nprint(N-max(ans))\n", "import sys\nimport math\ndef II(): return int(sys.stdin.readline())\ndef MI(): return list(map(int, sys.stdin.readline().split()))\ndef LI(): return list(map(int, sys.stdin.readline().split()))\ndef LLI(rows_number): return [LI() for _ in range(rows_number)]\ndef SI(): return sys.stdin.readline()[:-1]\n\ns=SI()\nn=len(s)\nm=n\nif(n%2==1 and s[n//2]!=s[n//2-1]):\n\tm-=1\nif(n%2==1 and s[n//2+1]!=s[n//2]):\n\tm-=1\n\nif(n==1 and m==1):\n\tprint(-1)\n\treturn\n\nl=m\nr=m\n\nfor i in range(n):\n\tif(s[i]==s[n-1-i]):\n\t\tl-=1\n\t\tif(l<0):\n\t\t\tprint(-1)\n\t\t\treturn\n\telse:\n\t\tr-=1\n\nif(r==0):\n\tprint(n)\nelse:\n\tans=0\n\tfor i in range(1,n//2):\n\t\tif(s[i]==s[n-1-i]):\n\t\t\tans+=1\n\t\telse:\n\t\t\tbreak\n\n\tif(ans==n//2):\n\t\tprint(n-1)\n\telse:\n\t\tprint(n-ans)\n", "import sys\ninput = sys.stdin.readline\n\ns=input().strip()\n\nn=len(s)\n\nif n==1:\n\tprint(-1)\n\treturn\n\nl=[]\nr=[]\n\nfor i in range(n):\n\tif s[i]==\"|\" and len(r)>0:\n\t\tif s[i]==s[r[-1]]:\n\t\t\tr.pop()\n\t\telse:\n\t\t\tl.pop()\n\t\t\tr.append(i)\n\t\t\tl.append(s[i])\n\telse:\n\t\tl.append(s[i])\n\t\tr.append(i)\n\n\n\n\nif len(l)==0:\n\tprint(len(r))\nelse:\n\tans=len(r)\n\tfor i in range(len(l)-1):\n\t\tans=max(ans,len(r)-l[i])\n\tprint(ans)\n", "import sys\n\ns = sys.stdin.read()\nn = len(s)\n\ncnt = 0\nans = 0\nfor i in s:\n\tif i == \",\":\n\t\tcnt += 1\n\telif i == \"|\":\n\t\tcnt -= 1\n\telif i == \":\":\n\t\tcnt -= 1\n\telse:\n\t\tans += 1\n\nif cnt < 0:\n\tprint(-1)\nelse:\n\tans += cnt\n\tprint(ans)\n", "import sys\n\ns = sys.stdin.read()\nn = len(s)\n\nans = 0\nc = 0\nfor i in s:\n\tif i == \"|\":\n\t\tc += 1\n\telif i == \",\":\n\t\tc += 1\n\telif i == \":\":\n\t\tc += 1\n\telse:\n\t\tans = -1\n\t\tbreak\n\nif c == 0 and len(s) % 2 == 1:\n\tans = -1\n\nif ans == -1:\n\tans = n\n\nprint(n - ans)\n", "def main():\n\timport sys\n\tinput = sys.stdin.readline\n\t\n\ts = input().strip()\n\t\n\tn = len(s)\n\tres = []\n\tfor i in s:\n\t\tif i in '|[]':\n\t\t\tres.append(i)\n\t\telif i in ':|' and len(res) >= 2:\n\t\t\tif res[-1]!= res[-2]:\n\t\t\t\tprint(-1)\n\t\t\t\treturn\n\t\t\telse:\n\t\t\t\tres.pop()\n\t\telse:\n\t\t\tres.append(i)\n\t\n\tprint(len(res) * 2 - len(s) % 2)\n\t\n\t\ndef __starting_point():\n\tmain()\n__starting_point()\n", "import sys\ninput = sys.stdin.readline\n\nS = '-' + input().rstrip('\\n')\nN = len(S)\n\nans = [N] * N\nfor i in range(N):\n\tif S[i] == ',':\n\t\tans[i] = 0\n\telif S[i] == ':':\n\t\tans[i] = 1\n\telse:\n\t\tans[i] = 2\n\n\nfor i in range(N):\n\tif i in (0, N - 1):\n\t\tans[i] = min(ans[i], ans[i - 1])\n\telse:\n\t\tans[i] = ans[i - 1]\n\n\nif any(ans[i] <= 0 for i in range(N)):\n\tprint(-1)\nelse:\n\tprint(max(ans) - min(ans))\n", "import sys\ninput = sys.stdin.readline\n\ns=list(input().rstrip())\nn=len(s)\n\n\nans=[0]*(n+1)\ncnt=[0]*(n+1)\ncnt[n]=1\nans[n]=n\n\nfor i in range(n-1,-1,-1):\n\tif s[i]==s[i+1]:\n\t\tcnt[i]=cnt[i+1]+1\n\telse:\n\t\tcnt[i]=1\n\nfor i in range(n):\n\tif i==n-1:\n\t\tif cnt[i]==0:\n\t\t\tans[i]=n\n\t\telse:\n\t\t\tans[i]=n-cnt[i]\n\t\t\tbreak\n\telse:\n\t\tif cnt[i]>=cnt[i+1]:\n\t\t\tans[i]=n-cnt[i]\n\t\t\tbreak\n\t\telse:\n\t\t\tans[i]=n-cnt[i+1]\n\t\t\tbreak\n\nif n%2==0:\n\tprint(ans[n//2])\nelse:\n\tprint(-1)\n", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\n\ncnt=[0]*(N+1)\nfor i in range(N):\n\tif S[i]==\",\" or S[i]==\":\".join([\"|\" if S[i+1]==\",\"|\" else \",\"]):\n\t\tcnt[i+1]+=1\n\telse:\n\t\tcnt[i+1]-=1\n\nif cnt.count(0)>=N//2:\n\tprint(-1)\n\treturn\n\nans=N\nfor i in range(N):\n\tif cnt[i]==0:\n\t\tcontinue\n\telse:\n\t\tans=max(ans,i+cnt[i])\n\nprint(ans)\n", "import sys\n\ns = sys.stdin.readline().rstrip()\nn = len(s)\n\n\ndef calc(cnt):\n\treturn sum(cnt[i] for i in range(len(cnt)))\n\n\ndef solve(s):\n\tcnt = []\n\tfor i in s:\n\t\tif i in ':|':\n\t\t\tif len(cnt) > 0:\n\t\t\t\tif cnt[-1] == i:\n\t\t\t\t\tcnt.pop()\n\t\t\t\telse:\n\t\t\t\t\treturn [-1]\n\t\t\telse:\n\t\t\t\tcnt.append(i)\n\t\telse:\n\t\t\tcnt.append(i)\n\tif len(cnt) == 0:\n\t\treturn [n] * n\n\n\tans = [n] * n\n\tfor i in range(len(cnt) - 1, -1, -1):\n\t\tans[i] = calc(cnt[i])\n\n\treturn ans\n\n\nprint('\\n'.join(map(str, solve(s))))\n", "import sys\ninput = sys.stdin.readline\n\ns=input()\n\nn=len(s)\nm=n\nfor i in range(m):\n\tif s[i]==\"|\" and s[n-i-1]==\"|\" and s[n-i-2]==\"|\" and s[n-i-3]==\"|\" and s[n-i-4]==\"|\" and s[n-i-5]==\"|\" and s[n-i-6]==\"|\" and s[n-i-7]==\"|\" and s[n-i-8]==\"|\":\n\t\tn-=4\n\t\tcontinue\n\tif s[i]==\"[\" and s[n-i-1]==\"]\" and s[n-i-2]==\"[\" and s[n-i-3]==\"]\" and s[n-i-4]==\"[\" and s[n-i-5]==\"]\" and s[n-i-6]==\"[\" and s[n-i-7]==\"]\" and s[n-i-8]==\"[\" and s[n-i-9]==\"]\":\n\t\tn-=3\n\t\tcontinue\n\tif s[i]==\":\" and s[n-i-1]==\":\" and s[n-i-2]==\":\" and s[n-i-3]==\":\" and s[n-i-4]==\":\" and s[n-i-5]==\":\" and s[n-i-6]==\":\" and s[n-i-7]==\":\" and s[n-i-8]==\":\" and s[n-i-9]==\":\":\n\t\tn-=2\n\t\tcontinue\n\tif s[i]==\"[\" and s[n-i-1]==\"]\" and s[n-i-2]==\"[\" and s[n-i-3]==\"]\" and s[n-i-4]==\"[\" and s[n-i-5]==\"]\" and s[n-i-6]==\"[\" and s[n-i-7]==\"]\" and s[n-i-8]==\":\" and s[n-i-9]==\":\" and s[n-i-4]==\":\" and s[n-", "import sys\ninput = sys.stdin.readline\n\nS=input().strip()\nN=len(S)\nM=N//2+1\n\ndef calc(S):\n\tL=len(S)\n\tC=[0]*L\n\tC[L-1]=L-2\n\tfor i in range(L-2,-1,-1):\n\t\tif S[i]==S[i+1]:\n\t\t\tC[i]=max(C[i+1],C[i+2])\n\treturn C[0]\n\nC=calc(S)\n\nif C<=M:\n\tprint(N-C)\nelse:\n\tprint(-1)\n", "import sys\ninput = sys.stdin.readline\n\ns = input().rstrip()\n\nn = len(s)\nans = [n]\nfor i in range(n):\n\tif s[i] == \"|\":\n\t\tans.append(i)\n\t\tbreak\n\telif s[i] == \":\":\n\t\tans.append(i)\n\t\tbreak\n\nans.pop()\n\nl = len(s)\nfor i in range(1, min(l, n-l)//2+1):\n\tif s[i] == s[i-1]:\n\t\tif s[i+l-1] == s[i-1]:\n\t\t\tans.pop()\n\t\t\tbreak\n\telse:\n\t\tans.append(i)\n\nif len(ans) == n:\n\tprint(n)\nelse:\n\tprint(-1)\n", "import sys\n\ns = sys.stdin.read()\nn = len(s)\n\nres = []\nfor i in s:\n\tif i in':|':\n\t\tres.append(i)\n\telse:\n\t\tres.append('|')\n\nif len(res)!= n:\n\tprint(-1)\n\treturn\n\nl = len(res[0])\nm = len(res)\n\ncnt = 0\nfor i in range(l):\n\tif cnt >= m:\n\t\tbreak\n\tif res[i] == res[i+l-1]:\n\t\tcnt += 1\n\telse:\n\t\tcnt = 0\n\nif cnt < m:\n\tprint(-1)\nelse:\n\tprint(n-l)\n", "import sys\n\ns=sys.stdin.readline().strip()\nn=len(s)\nm=n\nL=[0]*n\nfor i in range(n):\n\tif s[i]==\"|\" and L[i-1]==0:\n\t\tL[i]=1\n\t\tcontinue\n\telif s[i]==\"|\" and L[i-1]==2:\n\t\tL[i]=2\n\t\tcontinue\n\telif s[i]==\":\":\n\t\tL[i]=3\n\t\tcontinue\n\telif s[i]==\":\" and L[i-1]==3:\n\t\tL[i]=3\n\t\tcontinue\n\telse:\n\t\tL[i]=2\n\t\tcontinue\nm=max(L)\nif m==2:\n\tprint(-1)\nelse:\n\tprint(n-m)\n", "def main():\n\ts = list(input())\n\tn = len(s)\n\tfor i in range(n):\n\t\tif s[i] in':|':\n\t\t\ts.remove(s[i])\n\tif len(s) % 2!= 0:\n\t\tprint(-1)\n\t\treturn\n\tans = []\n\tfor i in range(n):\n\t\tif s[i] == ',' or s[i] == '[':\n\t\t\tif len(s) % 2 == 0:\n\t\t\t\tif s[i] == ',':\n\t\t\t\t\tans.append(s[i])\n\t\t\t\telse:\n\t\t\t\t\tans.append(s[i] + s[i + 1])\n\t\telif s[i] == ']':\n\t\t\tif len(s) % 2 == 0:\n\t\t\t\tif s[i] == ',':\n\t\t\t\t\tans.append(s[i])\n\t\t\t\telse:\n\t\t\t\t\tans.append(s[i] + s[i + 1] + s[i + 2])\n\t\telif s[i] == ':':\n\t\t\tif len(s) % 2 == 0:\n\t\t\t\tif s[i] == ',':\n\t\t\t\t\tans.append(s[i])\n\t\t\t\telse:\n\t\t\t\t\tans.append(s[i] + s[i + 1] + s[i + 2] + s[i + 3])\n\t\telse:\n\t\t\tif len(s) % 2 == 0:\n\t\t\t\tif s[i] == ',':\n\t\t\t\t\tans.append(s[i])\n\t\t\t\telse:\n\t\t\t\t\tans.append(s[i] + s[i + 1] + s[i + 2] + s[i + 3])\n\tans.sort()\n\tif len(ans) == 0:\n\t\tprint(-1)\n\t\treturn\n\tprint(len(ans) // 2)\n\tfor i in range(len(ans) // 2):\n\t\tprint(ans[i], end='')\n\tprint('')\n\ndef __starting_point():\n\tmain()\n__starting_point()\n", "import sys\ns=sys.stdin.readline().strip()\nn=len(s)\nm=n\ni=n-1\nwhile i>=0:\n\tif s[i]==s[i+1]:\n\t\tm-=1\n\t\ti-=2\n\t\tcontinue\n\tif s[i]==s[i-1]:\n\t\tm-=1\n\t\ti-=2\n\t\tcontinue\n\tif s[i]==s[i+1]:\n\t\tm-=1\n\t\ti-=2\n\t\tcontinue\n\tif s[i]!=s[i-1]:\n\t\tprint(-1)\n\t\treturn\n\telse:\n\t\ti-=1\nprint(m)\n", "s = input()\n\nif len(s) % 2!= 0:\n\tprint(-1)\n\treturn\n\nans = []\n\nfor i in range(len(s) // 2):\n\tif s[i]!= s[i + 1]:\n\t\tans.append(s[i])\n\nfor i in range(len(s) // 2):\n\tif i == len(s) - 1:\n\t\tans.append(s[i])\n\telse:\n\t\tans.append(s[i + 1])\n\nans.reverse()\n\ni = len(ans)\ncount = 0\nfor c in ans:\n\tif c == s[i - 1]:\n\t\tcount += 1\n\telse:\n\t\tbreak\n\nif count > len(s) // 2 - i:\n\tprint(-1)\nelse:\n\tprint(len(s) - count)\n", "import sys\n\ns = sys.stdin.readline().rstrip()\n\nn = len(s)\nm = n\nres = []\nwhile m:\n\tif s[m-1] == \"[\":\n\t\tres.append(m)\n\t\tm -= 1\n\telif s[m-1] == \"]\":\n\t\tif len(res) == 0:\n\t\t\tres.append(m)\n\t\t\tm -= 1\n\t\telif res[-1]!= m:\n\t\t\tprint(-1)\n\t\t\treturn\n\t\telse:\n\t\t\tres.pop()\n\t\t\tm -= 1\n\t\t\tm = 0\n\t\t\tcontinue\n\n\tif s[m-1] == \":\":\n\t\tres.append(m)\n\t\tm -= 1\n\t\tm += 1\n\telse:\n\t\tm -= 1\n\nprint(max(res) - 1)\n"]}}